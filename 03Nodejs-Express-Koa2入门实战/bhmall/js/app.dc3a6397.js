(function(t){function e(e){for(var a,r,c=e[0],s=e[1],l=e[2],u=0,d=[];u<c.length;u++)r=c[u],Object.prototype.hasOwnProperty.call(o,r)&&o[r]&&d.push(o[r][0]),o[r]=0;for(a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a]);p&&p(e);while(d.length)d.shift()();return i.push.apply(i,l||[]),n()}function n(){for(var t,e=0;e<i.length;e++){for(var n=i[e],a=!0,r=1;r<n.length;r++){var c=n[r];0!==o[c]&&(a=!1)}a&&(i.splice(e--,1),t=s(s.s=n[0]))}return t}var a={},r={app:0},o={app:0},i=[];function c(t){return s.p+"js/"+({}[t]||t)+"."+{"chunk-46aed209":"70626bec","chunk-6655877b":"cd8db0ed","chunk-9e0389ea":"bf5312af","chunk-b3a68662":"bedf7b9c"}[t]+".js"}function s(e){if(a[e])return a[e].exports;var n=a[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.e=function(t){var e=[],n={"chunk-46aed209":1,"chunk-6655877b":1,"chunk-9e0389ea":1,"chunk-b3a68662":1};r[t]?e.push(r[t]):0!==r[t]&&n[t]&&e.push(r[t]=new Promise((function(e,n){for(var a="css/"+({}[t]||t)+"."+{"chunk-46aed209":"f8c44307","chunk-6655877b":"a6eee484","chunk-9e0389ea":"f2f0aee9","chunk-b3a68662":"58339c45"}[t]+".css",o=s.p+a,i=document.getElementsByTagName("link"),c=0;c<i.length;c++){var l=i[c],u=l.getAttribute("data-href")||l.getAttribute("href");if("stylesheet"===l.rel&&(u===a||u===o))return e()}var d=document.getElementsByTagName("style");for(c=0;c<d.length;c++){l=d[c],u=l.getAttribute("data-href");if(u===a||u===o)return e()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=e,p.onerror=function(e){var a=e&&e.target&&e.target.src||o,i=new Error("Loading CSS chunk "+t+" failed.\n("+a+")");i.code="CSS_CHUNK_LOAD_FAILED",i.request=a,delete r[t],p.parentNode.removeChild(p),n(i)},p.href=o;var f=document.getElementsByTagName("head")[0];f.appendChild(p)})).then((function(){r[t]=0})));var a=o[t];if(0!==a)if(a)e.push(a[2]);else{var i=new Promise((function(e,n){a=o[t]=[e,n]}));e.push(a[2]=i);var l,u=document.createElement("script");u.charset="utf-8",u.timeout=120,s.nc&&u.setAttribute("nonce",s.nc),u.src=c(t);var d=new Error;l=function(e){u.onerror=u.onload=null,clearTimeout(p);var n=o[t];if(0!==n){if(n){var a=e&&("load"===e.type?"missing":e.type),r=e&&e.target&&e.target.src;d.message="Loading chunk "+t+" failed.\n("+a+": "+r+")",d.name="ChunkLoadError",d.type=a,d.request=r,n[1](d)}o[t]=void 0}};var p=setTimeout((function(){l({type:"timeout",target:u})}),12e4);u.onerror=u.onload=l,document.head.appendChild(u)}return Promise.all(e)},s.m=t,s.c=a,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)s.d(n,a,function(e){return t[e]}.bind(null,a));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/",s.oe=function(t){throw console.error(t),t};var l=window["webpackJsonp"]=window["webpackJsonp"]||[],u=l.push.bind(l);l.push=e,l=l.slice();for(var d=0;d<l.length;d++)e(l[d]);var p=u;i.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"0773":function(t,e,n){"use strict";n("24db")},"0de3":function(t,e,n){"use strict";n("b8b0")},"10ca":function(t,e,n){},"24db":function(t,e,n){},"32d6":function(t,e,n){"use strict";n("4c84")},"4c84":function(t,e,n){},"4d72":function(t,e,n){"use strict";n.d(e,"d",(function(){return i})),n.d(e,"c",(function(){return c})),n.d(e,"b",(function(){return s})),n.d(e,"g",(function(){return l})),n.d(e,"a",(function(){return u})),n.d(e,"e",(function(){return d})),n.d(e,"f",(function(){return p}));n("d3b7");var a=n("bc3a"),r=n.n(a);function o(t){return new Promise((function(e,n){var a=r.a.create({baseURL:"http://152.136.185.210:7878/api/m5",timeout:5e3});a.interceptors.request.use((function(t){return t}),(function(t){return t})),a.interceptors.response.use((function(t){return t.data}),(function(t){if(console.log("来到了response拦截failure中"),console.log(t),t&&t.response)switch(t.response.status){case 400:t.message="请求错误";break;case 401:t.message="未授权的访问";break}return t})),a(t).then((function(t){e(t)})).catch((function(t){n(t)}))}))}function i(){return o({url:"/home/multidata"})}function c(t,e){return o({url:"/home/data",params:{type:t,page:e}})}function s(t){return o({url:"/detail",params:{iid:t}})}function l(){return o({url:"/recommend"})}function u(){return o({url:"/category"})}function d(t){return o({url:"/subcategory",params:{maitKey:t}})}function p(t,e){return o({url:"/subcategory/detail",params:{miniWallkey:t,type:e}})}},"56d7":function(t,e,n){"use strict";n.r(e);n("ac1f"),n("5319"),n("e260"),n("e6cf"),n("cca6"),n("a79d");var a=n("2b0e"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",[n("keep-alive",{attrs:{exclude:"Detail"}},[n("router-view")],1),n("bottom-navigation")],1)},o=[],i=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-bottom-navigation",{attrs:{height:"49px",value:t.index,color:"pink lighten-3",grow:"",app:""}},t._l(t.items,(function(e,a){return n("v-btn",{key:a,on:{click:function(n){return t.btmClick(e.path)}}},[n("span",[t._v(t._s(e.name))]),n("v-icon",[t._v(t._s(e.icon))])],1)})),1)},c=[],s={name:"BottomNavigation",data:function(){return{index:0,items:[{name:"主页",path:"/",icon:"mdi-home"},{name:"分类",path:"/category",icon:"mdi-border-all"},{name:"购物车",path:"/shopping",icon:"mdi-cart"},{name:"我的",path:"/profile",icon:"mdi-account"}]}},methods:{btmClick:function(t){this.$router.push(t)}},watch:{"$route.path":function(t){for(var e=0;e<this.items.length;e++)this.items[e].path===t&&(this.index=e)}}},l=s,u=(n("0de3"),n("2877")),d=n("6544"),p=n.n(d),f=n("b81c"),h=n("8336"),m=n("132d"),b=Object(u["a"])(l,i,c,!1,null,"79d58c7a",null),v=b.exports;p()(b,{VBottomNavigation:f["a"],VBtn:h["a"],VIcon:m["a"]});var g={name:"App",components:{BottomNavigation:v}},y=g,w=n("7496"),k=Object(u["a"])(y,r,o,!1,null,null,null),C=k.exports;p()(k,{VApp:w["a"]});var x=n("f309");a["a"].use(x["a"]);var _=new x["a"]({}),T=(n("d3b7"),n("8c4f")),V=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"home"},[a("v-app-bar",{attrs:{app:"",color:"pink lighten-3",height:"44px",flat:""}},[a("v-spacer"),a("v-toolbar-title",[t._v("购物街")]),a("v-spacer")],1),a("v-main",[a("v-carousel",{attrs:{app:"","show-arrows":!1,height:t.bannerHeight,cycle:"","hide-delimiter-background":"","delimiter-icon":"mdi-minus"}},t._l(t.banner,(function(t,e){return a("v-carousel-item",{key:e,attrs:{src:t.image}})})),1),a("v-container",{staticClass:"recommend",attrs:{fluid:""}},[a("v-row",{attrs:{dense:""}},t._l(t.recommend,(function(e,n){return a("v-col",{key:n,attrs:{cols:"3"}},[a("v-card",{attrs:{elevation:"0"}},[a("v-img",{attrs:{src:e.image}}),a("v-card-text",{staticClass:"text-recommend",domProps:{textContent:t._s(e.title)}})],1)],1)})),1)],1),a("v-container",[a("v-img",{attrs:{src:n("5cbe")}})],1),a("v-tabs",{directives:[{name:"show",rawName:"v-show",value:t.tabFixShow,expression:"tabFixShow"}],staticClass:"tab-fix",attrs:{height:"40px","fixed-tabs":"",color:"pink lighten-3"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.tabs,(function(e){return a("v-tab",{key:e.tab,on:{click:function(n){return t.tabChange(e.type)}}},[t._v(t._s(e.tab))])})),1),a("v-tabs",{ref:"tabPos",staticClass:"Pop-Over",attrs:{height:"40px","fixed-tabs":"",color:"pink lighten-3"},model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.tabs,(function(e){return a("v-tab",{key:e.tab,on:{click:function(n){return t.tabChange(e.type)}}},[t._v(t._s(e.tab))])})),1),a("v-tabs-items",{model:{value:t.tab,callback:function(e){t.tab=e},expression:"tab"}},t._l(t.tabs,(function(e){return a("v-tab-item",{key:e.tab},[a("detail-list",{attrs:{detail:t.details[e.type].list}})],1)})),1),a("loading",{directives:[{name:"show",rawName:"v-show",value:t.loading,expression:"loading"}]}),a("back-top",{attrs:{backTopShow:t.backTopShow}})],1)],1)},S=[],j=n("2909"),O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"detail",attrs:{fluid:""}},[n("v-row",{attrs:{dense:""}},t._l(t.detail,(function(e,a){return n("v-col",{key:a,staticClass:"col-detail",attrs:{cols:"6"},on:{click:function(n){return t.itemClick(e.iid)}}},[n("v-card",{staticClass:"card-detail",attrs:{elevation:"0"}},[n("v-img",{attrs:{src:e.show.img,"lazy-src":t.defaultImage,transition:"scale-transition"},scopedSlots:t._u([{key:"placeholder",fn:function(){return[n("v-row",{staticClass:"fill-height ma-0",attrs:{align:"center",justify:"center"}},[n("v-progress-circular",{attrs:{indeterminate:"",color:"grey lighten-5"}})],1)]},proxy:!0}],null,!0)})],1),n("div",{staticClass:"info-detail"},[n("v-row",{staticClass:"row-detail"},[n("v-card-text",{staticClass:"text-detail",domProps:{textContent:t._s(e.props[0])}})],1),n("v-row",{staticClass:"row-detail"},[n("v-card-text",{staticClass:"price-detail"},[t._v(" ￥"+t._s(e.price)+" "),n("v-icon",{staticClass:"icon-detail"},[t._v("mdi-star")]),t._v(" "+t._s(e.cfav)+" ")],1)],1)],1)],1)})),1)],1)},P=[],E={name:"DetailItem",data:function(){return{defaultImage:n("bc5e")}},props:{detail:{type:Array,default:function(){return[]}}},methods:{itemClick:function(t){console.log(t),this.$router.push({path:"/detail",query:{iid:t}})}}},I=E,D=(n("32d6"),n("b0af")),B=n("99d9"),L=n("62ad"),$=n("a523"),N=n("adda"),A=n("490a"),H=n("0fd9"),F=Object(u["a"])(I,O,P,!1,null,"45eb9a5a",null),M=F.exports;p()(F,{VCard:D["a"],VCardText:B["a"],VCol:L["a"],VContainer:$["a"],VIcon:m["a"],VImg:N["a"],VProgressCircular:A["a"],VRow:H["a"]});var q=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"text-center"},[n("v-progress-circular",{attrs:{size:"24",width:"2",indeterminate:"",color:"#F48FB1"}}),n("span",{staticClass:"loading-text"},[t._v("加载中")])],1)},R=[],z={name:"Loading"},J=z,K=(n("d423"),Object(u["a"])(J,q,R,!1,null,"d2f54a48",null)),U=K.exports;p()(K,{VProgressCircular:A["a"]});var W=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card-text",{staticClass:"back-top",staticStyle:{position:"relative"}},[n("v-fab-transition",[n("v-btn",{directives:[{name:"show",rawName:"v-show",value:t.backTopShow,expression:"backTopShow"}],attrs:{color:"pink lighten-3",small:"",dark:"",fixed:"",bottom:"",right:"",fab:""},on:{click:t.backTop}},[n("v-icon",[t._v("mdi-arrow-up")])],1)],1)],1)},G=[],Q={name:"BackTop",props:{backTopShow:{type:Boolean,default:function(){return!1}}},methods:{backTop:function(){window.scrollTo({top:0,left:0,behavior:"smooth"})}}},X=Q,Y=(n("0773"),n("0789")),Z=Object(u["a"])(X,W,G,!1,null,"27594e77",null),tt=Z.exports;p()(Z,{VBtn:h["a"],VCardText:B["a"],VFabTransition:Y["a"],VIcon:m["a"]});var et=n("4d72"),nt={name:"Home",data:function(){return{tab:null,type:"pop",bannerHeight:0,tabPosition:0,banner:[],recommend:[],tabs:[{tab:"流行",type:"pop"},{tab:"新款",type:"new"},{tab:"精选",type:"sell"}],details:{pop:{page:1,list:[]},new:{page:1,list:[]},sell:{page:1,list:[]}},loading:!1,backTopShow:!1,tabFixShow:!1,scrollTop:0}},components:{Loading:U,DetailList:M,BackTop:tt},created:function(){this.getHomeData(),this.getDetailData("pop"),this.getDetailData("new"),this.getDetailData("sell"),console.log("home created")},mounted:function(){this.bannerHeight=375*document.body.clientWidth/720,console.log("home mounted")},activated:function(){window.addEventListener("scroll",this.getScroll),console.log("home activated")},deactivated:function(){window.removeEventListener("scroll",this.getScroll),console.log("home deactivated")},destroyed:function(){console.log("home destroyed")},methods:{getHomeData:function(){var t=this;Object(et["d"])().then((function(e){t.banner=e.data.banner.list,t.recommend=e.data.recommend.list}))},getDetailData:function(t){var e=this;Object(et["c"])(t,this.details[t].page).then((function(n){var a;(a=e.details[t].list).push.apply(a,Object(j["a"])(n.data.list)),e.details[t].page+=1}))},tabChange:function(t){this.type=t,window.scrollTo({top:this.tabPosition,left:0,behavior:"smooth"})},getScroll:function(){var t=this,e=screen.height;this.scrollTop=document.documentElement.scrollTop;var n=document.documentElement.scrollHeight;this.backTopShow=this.scrollTop>1e3,this.tabPosition=this.$refs.tabPos.$el.offsetTop,this.tabFixShow=this.scrollTop>=this.tabPosition,e+this.scrollTop+1>=n&&n>2*e&&setTimeout((function(){t.loading=!0,t.getDetailData(t.type)}),500)}}},at=nt,rt=(n("65c6"),n("40dc")),ot=n("5e66"),it=n("3e35"),ct=n("f6c4"),st=n("2fa4"),lt=n("71a3"),ut=n("c671"),dt=n("fe57"),pt=n("aac8"),ft=n("2a7f"),ht=Object(u["a"])(at,V,S,!1,null,"19b2b92b",null),mt=ht.exports;p()(ht,{VAppBar:rt["a"],VCard:D["a"],VCardText:B["a"],VCarousel:ot["a"],VCarouselItem:it["a"],VCol:L["a"],VContainer:$["a"],VImg:N["a"],VMain:ct["a"],VRow:H["a"],VSpacer:st["a"],VTab:lt["a"],VTabItem:ut["a"],VTabs:dt["a"],VTabsItems:pt["a"],VToolbarTitle:ft["a"]}),a["a"].use(T["a"]);var bt=[{path:"/",name:"Home",component:mt},{path:"/category",component:function(){return n.e("chunk-6655877b").then(n.bind(null,"bb51"))}},{path:"/shopping",component:function(){return n.e("chunk-9e0389ea").then(n.bind(null,"8d6a"))}},{path:"/profile",component:function(){return n.e("chunk-46aed209").then(n.bind(null,"3b42"))}},{path:"/detail",component:function(){return n.e("chunk-b3a68662").then(n.bind(null,"6ab7"))}}],vt=new T["a"]({mode:"history",base:"/",routes:bt}),gt=vt,yt=n("2f62");a["a"].use(yt["a"]);var wt=new yt["a"].Store({state:{itemInCart:[],itemList:[]},getters:{itemCount:function(t){return t.itemInCart.length},itemInCart:function(t){return t.itemInCart}},mutations:{changeSelect:function(t,e){t.itemInCart[e.index].status=!t.itemInCart[e.index].status,console.log("changeSelect")}}}),kt=wt,Ct=T["a"].prototype.push;T["a"].prototype.push=function(t){return Ct.call(this,t).catch((function(t){return t}))};var xt=T["a"].prototype.replace;T["a"].prototype.replace=function(t){return xt.call(this,t).catch((function(t){return t}))},a["a"].config.productionTip=!1,new a["a"]({vuetify:_,router:gt,store:kt,render:function(t){return t(C)}}).$mount("#app")},"5cbe":function(t,e,n){t.exports=n.p+"img/recommend_bg.794b6628.jpg"},"65c6":function(t,e,n){"use strict";n("10ca")},b8b0:function(t,e,n){},bc5e:function(t,e,n){t.exports=n.p+"img/placeholder.48bcea0d.png"},d423:function(t,e,n){"use strict";n("f8ad")},f8ad:function(t,e,n){}});
//# sourceMappingURL=app.dc3a6397.js.map