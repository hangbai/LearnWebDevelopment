(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-9e0389ea"],{1116:function(t,i,e){},"17c7":function(t,i,e){},"5f83":function(t,i,e){"use strict";e("8b3b")},8838:function(t,i,e){"use strict";e("1116")},"8b3b":function(t,i,e){},"8d6a":function(t,i,e){"use strict";e.r(i);var s=function(){var t=this,i=t.$createElement,e=t._self._c||i;return e("div",{attrs:{id:"shopping"}},[e("v-app-bar",{staticClass:"top-bar",attrs:{app:"",color:"pink lighten-3",height:"44px",flat:""}},[e("v-spacer"),e("v-toolbar-title",[t._v("购物车("+t._s(t.itemCount)+")")]),e("v-spacer")],1),e("v-main",[e("shopping-list",{attrs:{itemInCart:t.itemInCart,itemStatus:t.itemStatus},on:{subAmount:t.subAmount,addAmount:t.addAmount,checkSelect:t.checkSelect}}),e("shopping-payment",{attrs:{isActive:t.isActive,payAmount:t.payAmount,total:t.total},on:{selectAll:t.selectAll}})],1)],1)},n=[],a=(e("cb29"),e("c975"),function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"shopping-item"},[s("div",t._l(t.itemInCart,(function(i,n){return s("div",{key:n,staticClass:"item"},[s("div",{staticClass:"item-check",class:{active:t.itemStatus[n]},on:{click:function(i){return t.checkSelect(n)}}},[s("img",{attrs:{src:e("94a1")}})]),s("div",{staticClass:"item-image"},[s("img",{attrs:{src:i.imgURL,alt:""}})]),s("div",{staticClass:"item-info"},[s("div",{staticClass:"item-title"},[t._v(t._s(i.title))]),s("div",{staticClass:"item-dec"},[t._v("商品描述:"+t._s(i.des))]),s("div",{staticClass:"item-buy"},[s("div",{staticClass:"price"},[t._v("¥"+t._s(i.newPrice))]),s("div",{staticClass:"count"},[s("div",{staticClass:"count-change",on:{click:function(i){return t.subAmount(n)}}},[s("v-icon",{attrs:{small:""}},[t._v("mdi-minus")])],1),s("div",[t._v(t._s(i.amount))]),s("div",{staticClass:"count-change",on:{click:function(i){return t.addAmount(n)}}},[s("v-icon",{attrs:{small:""}},[t._v("mdi-plus")])],1)])])])])})),0)])}),c=[],o=e("2909"),u={name:"ShoppingList",data:function(){return{count:0}},props:{itemInCart:{type:Array,default:function(){return[]}},itemStatus:{type:Array,default:function(){return[]}}},methods:{checkSelect:function(t){this.itemStatus[t]=!this.itemStatus[t],this.$emit("checkSelect",this.itemStatus),this.$forceUpdate()},subAmount:function(t){this.itemInCart[t].amount>0&&(this.itemInCart[t].amount-=1),this.$forceUpdate(),this.$emit("subAmount",t)},addAmount:function(t){this.itemInCart[t].amount+=1,this.$forceUpdate(),this.$emit("addAmount",t)}},activated:function(){if(this.count!==this.$store.getters.itemCount){var t,i=new Array(this.$store.getters.itemCount-this.count).fill(!0);(t=this.itemStatus).push.apply(t,Object(o["a"])(i))}this.count=this.$store.getters.itemCount,this.$forceUpdate()}},r=u,l=(e("b028"),e("2877")),m=e("6544"),h=e.n(m),p=e("132d"),d=Object(l["a"])(r,a,c,!1,null,"19c9175b",null),f=d.exports;h()(d,{VIcon:p["a"]});var v=function(){var t=this,i=t.$createElement,s=t._self._c||i;return s("div",{staticClass:"payment "},[s("div",{staticClass:"p-row"},[s("div",{staticClass:"total-select",class:{active:t.isActive},on:{click:t.selectAll}},[s("img",{attrs:{src:e("94a1")}}),s("span",[t._v("全选")])]),s("div",{staticClass:"total-number"},[t._v("合计:¥"+t._s(t.total.toFixed(2)))]),s("div",{staticClass:"total-pay"},[t._v("去计算("+t._s(t.payAmount)+")")])])])},A=[],C=(e("a9e3"),{name:"ShoppingPayment",props:{isActive:{type:Boolean,default:function(){return!0}},total:{type:Number,default:function(){return 0}},payAmount:{type:Number,default:function(){return 0}}},methods:{selectAll:function(){this.$emit("selectAll")}}}),g=C,y=(e("5f83"),Object(l["a"])(g,v,A,!1,null,"2a7db734",null)),b=y.exports,S={name:"Shopping",data:function(){return{isActive:!1,itemStatus:[],payAmount:0,total:0}},components:{ShoppingList:f,ShoppingPayment:b},mounted:function(){this.itemStatus=new Array(this.itemCount).fill(!0),console.log("shopping mounted",this.itemStatus)},activated:function(){this.getPayment(),console.log("shopping activated")},computed:{itemCount:function(){return this.$store.getters.itemCount},itemInCart:function(){return this.$store.getters.itemInCart}},methods:{selectAll:function(){this.isActive=!0,this.itemStatus=new Array(this.itemCount).fill(!0),this.getPayment()},checkSelect:function(t){-1!==t.indexOf(!1)?this.isActive=!1:this.isActive=!0,this.getPayment()},getPayment:function(){this.payAmount=0,this.total=0;for(var t=0;t<this.itemStatus.length;t++)!0===this.itemStatus[t]&&(this.total+=this.itemInCart[t].amount*this.itemInCart[t].newPrice,this.payAmount+=this.itemInCart[t].amount)},subAmount:function(){this.getPayment()},addAmount:function(){this.getPayment()}}},_=S,k=(e("8838"),e("40dc")),$=e("f6c4"),I=e("2fa4"),w=e("2a7f"),P=Object(l["a"])(_,s,n,!1,null,"46239dce",null);i["default"]=P.exports;h()(P,{VAppBar:k["a"],VMain:$["a"],VSpacer:I["a"],VToolbarTitle:w["a"]})},"94a1":function(t,i,e){t.exports=e.p+"img/tick.5228ea23.svg"},b028:function(t,i,e){"use strict";e("17c7")}}]);
//# sourceMappingURL=chunk-9e0389ea.bf5312af.js.map